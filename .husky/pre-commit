#!/bin/sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ”¨ Running pre-commit checks..."

# Run bundle command - fail immediately if it fails
echo "ğŸ“¦ Building and formatting..."
if ! npm run bundle; then
  echo "âŒ Build failed! Commit aborted."
  exit 1
fi

# Only add dist if bundle succeeded
echo "âœ… Adding updated dist files..."
git add dist/

echo "âœ… Pre-commit checks passed!"
